<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.72">
<link rel="alternate" type="application/rss+xml" href="/slices-for-redux/blog/rss.xml" title="Slices for Redux Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/slices-for-redux/blog/atom.xml" title="Slices for Redux Blog Atom Feed"><title data-react-helmet="true">Mutable Reducers | Slices for Redux</title><meta data-react-helmet="true" property="og:url" content="https://vmware.github.io/slices-for-redux/docs/concepts/mutable-reducers"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Mutable Reducers | Slices for Redux"><meta data-react-helmet="true" name="description" content="Mutable Reducers"><meta data-react-helmet="true" property="og:description" content="Mutable Reducers"><link data-react-helmet="true" rel="shortcut icon" href="/slices-for-redux/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://vmware.github.io/slices-for-redux/docs/concepts/mutable-reducers"><link data-react-helmet="true" rel="alternate" href="https://vmware.github.io/slices-for-redux/docs/concepts/mutable-reducers" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://vmware.github.io/slices-for-redux/docs/concepts/mutable-reducers" hreflang="x-default"><link rel="stylesheet" href="/slices-for-redux/assets/css/styles.b65e4027.css">
<link rel="preload" href="/slices-for-redux/assets/js/styles.dd7eaa26.js" as="script">
<link rel="preload" href="/slices-for-redux/assets/js/runtime~main.d5861a28.js" as="script">
<link rel="preload" href="/slices-for-redux/assets/js/main.c9388b07.js" as="script">
<link rel="preload" href="/slices-for-redux/assets/js/1.4c38d1cd.js" as="script">
<link rel="preload" href="/slices-for-redux/assets/js/2.752e8761.js" as="script">
<link rel="preload" href="/slices-for-redux/assets/js/16.961e5c59.js" as="script">
<link rel="preload" href="/slices-for-redux/assets/js/17.6ccfa97e.js" as="script">
<link rel="preload" href="/slices-for-redux/assets/js/935f2afb.1095caf6.js" as="script">
<link rel="preload" href="/slices-for-redux/assets/js/17896441.9ba454ad.js" as="script">
<link rel="preload" href="/slices-for-redux/assets/js/055cdc0f.436f2fba.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/slices-for-redux/"><img src="/slices-for-redux/img/slices-for-redux.svg" alt="Slices for Redux Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/slices-for-redux/img/slices-for-redux.svg" alt="Slices for Redux Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Slices for Redux</strong></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/slices-for-redux/docs/introduction/quick-start">Quick Start</a><a class="navbar__item navbar__link" href="/slices-for-redux/docs/api/createSlice">API</a><a href="https://github.com/vmware/slices-for-redux" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_GrZ2"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/slices-for-redux/"><img src="/slices-for-redux/img/slices-for-redux.svg" alt="Slices for Redux Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/slices-for-redux/img/slices-for-redux.svg" alt="Slices for Redux Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Slices for Redux</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/slices-for-redux/docs/introduction/quick-start">Quick Start</a></li><li class="menu__list-item"><a class="menu__link" href="/slices-for-redux/docs/api/createSlice">API</a></li><li class="menu__list-item"><a href="https://github.com/vmware/slices-for-redux" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper main-docs-wrapper"><div class="docPage_31aa"><div class="docSidebarContainer_3Kbt" role="complementary"><div class="sidebar_15mo"><div class="menu menu--responsive thin-scrollbar menu_Bmed"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Introduction</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/slices-for-redux/docs/introduction/quick-start">Quick Start</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Concepts</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/slices-for-redux/docs/concepts/mutable-reducers">Mutable Reducers</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">API Reference</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/slices-for-redux/docs/api/rootSliceGroup">rootSliceGroup</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/slices-for-redux/docs/api/createSlice">createSlice</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/slices-for-redux/docs/api/Slice">Slice</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/slices-for-redux/docs/api/createSliceGroup">createSliceGroup</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/slices-for-redux/docs/api/SliceGroup">SliceGroup</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/slices-for-redux/docs/api/SliceParent">SliceParent Interface</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="markdown"><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="mutable-reducers"></a>Mutable Reducers<a class="hash-link" href="#mutable-reducers" title="Direct link to heading">#</a></h1><p>Now that we have come to appreciated the benefits of immutability,
proposing the use of mutable reducers may, at first look, seen as an anti-pattern.<br>
Please, read why maybe using mutable reducers may not be such a bad idea after all.</p><p>Most applications create the &quot;root-reducer&quot; with <a href="https://redux.js.org/api/combinereducers" target="_blank" rel="noopener noreferrer">combineReducers()</a> from Redux. Slice reducers are imported and combined when creating the rootReducer. This is often done in a &quot;reducers.js&quot; file.</p><p>Large applications use code splitting to incrementally load code chunks.
Code inside a dynamically loaded chunk needs a way to add its slice reducers to the rootReducer.
Current solutions involve creating a new &quot;root-reducer&quot; and calling <a href="https://redux.js.org/api/store#replacereducernextreducer" target="_blank" rel="noopener noreferrer">store.replaceReducer(newReducer)</a>.</p><p><strong>Slices for Redux</strong>&#x27;s &quot;root-reducer&quot; is a &quot;mutable combine reducer&quot;. Slice reducers can be added to the &quot;root-reducer&quot; as needed. This not only simplifies the code that one writes but actually promotes code splitting to occur in the first place. Importing and combining reducers at startup can be avoided for the majority of slice reducers. Slice reducers can add themselves to the &quot;root-reducer&quot; when their code is loaded.</p><p>Only those reducers that are not adding themselves need to be imported and explicitly added to the rootReducer.
There is no longer the need to import and modify the &quot;reducers.js&quot; file each time a new reducer is written. This removes the boilerplate code inside the &quot;reducers.js&quot; file.</p><p>When slice reducers files are no longer imported in the reducers.js file,
the bundler will be able to defer more code, reducing the size of the first chunk.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="example"></a>Example<a class="hash-link" href="#example" title="Direct link to heading">#</a></h2><p>Using the <code>addReducers</code> function of the <a href="/slices-for-redux/docs/api/rootSliceGroup"><code>rootSliceGroup</code></a>
one can add one or more slice reducers to the &quot;root-reducer&quot; before or after the Redux store was created.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly js"><div tabindex="0" class="prism-code language-js codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#f8f8f2;background-color:#272822"><div class="token-line" style="color:#f8f8f2"><span class="token keyword module" style="color:#F92672">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#F8F8F2">{</span><span class="token imports"> configureStore </span><span class="token imports punctuation" style="color:#F8F8F2">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#F92672">from</span><span class="token plain"> </span><span class="token string" style="color:#a6e22e">&#x27;@reduxjs/toolkit&#x27;</span><span class="token punctuation" style="color:#F8F8F2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword module" style="color:#F92672">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#F8F8F2">{</span><span class="token imports"> rootSliceGroup </span><span class="token imports punctuation" style="color:#F8F8F2">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#F92672">from</span><span class="token plain"> </span><span class="token string" style="color:#a6e22e">&#x27;slices-for-redux&#x27;</span><span class="token punctuation" style="color:#F8F8F2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token comment" style="color:#778090">// Add initial reducers before creating the store</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">rootSliceGroup</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token method function property-access" style="color:#E6D874">addReducers</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  slice1</span><span class="token operator" style="color:#F8F8F2">:</span><span class="token plain"> reducer1</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token punctuation" style="color:#F8F8F2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token comment" style="color:#778090">// Create the store</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#F92672">const</span><span class="token plain"> store </span><span class="token operator" style="color:#F8F8F2">=</span><span class="token plain"> </span><span class="token function" style="color:#E6D874">configureStore</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  reducer</span><span class="token operator" style="color:#F8F8F2">:</span><span class="token plain"> rootSliceGroup</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token property-access">reducer</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token punctuation" style="color:#F8F8F2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token comment" style="color:#778090">// And later as lazy loaded module are loaded they can add their reducers to the &quot;root-reducer&quot;.</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">rootSliceGroup</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token method function property-access" style="color:#E6D874">addReducers</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"> </span><span class="token punctuation" style="color:#F8F8F2">[</span><span class="token plain">sliceName</span><span class="token punctuation" style="color:#F8F8F2">]</span><span class="token operator" style="color:#F8F8F2">:</span><span class="token plain"> sliceReducer </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token punctuation" style="color:#F8F8F2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">rootSliceGroup</span><span class="token punctuation" style="color:#F8F8F2">.</span><span class="token method function property-access" style="color:#E6D874">addReducers</span><span class="token punctuation" style="color:#F8F8F2">(</span><span class="token punctuation" style="color:#F8F8F2">{</span><span class="token plain"> slice2</span><span class="token operator" style="color:#F8F8F2">:</span><span class="token plain"> sliceReducer2</span><span class="token punctuation" style="color:#F8F8F2">,</span><span class="token plain"> slice3</span><span class="token operator" style="color:#F8F8F2">:</span><span class="token plain"> sliceReducer3 </span><span class="token punctuation" style="color:#F8F8F2">}</span><span class="token punctuation" style="color:#F8F8F2">)</span><span class="token punctuation" style="color:#F8F8F2">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/slices-for-redux/docs/introduction/quick-start"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Quick Start</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/slices-for-redux/docs/api/rootSliceGroup"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">rootSliceGroup Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#example" class="table-of-contents__link">Example</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/slices-for-redux/docs/introduction/quick-start">Quick Start</a></li><li class="footer__item"><a class="footer__link-item" href="/slices-for-redux/docs/api/createSlice">API Reference</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="http://stackoverflow.com/questions/tagged/slices-for-redux" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Social</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/vmware/slices-for-redux" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 VMware, Inc. and other contributors.</div></div></div></footer></div>
<script src="/slices-for-redux/assets/js/styles.dd7eaa26.js"></script>
<script src="/slices-for-redux/assets/js/runtime~main.d5861a28.js"></script>
<script src="/slices-for-redux/assets/js/main.c9388b07.js"></script>
<script src="/slices-for-redux/assets/js/1.4c38d1cd.js"></script>
<script src="/slices-for-redux/assets/js/2.752e8761.js"></script>
<script src="/slices-for-redux/assets/js/16.961e5c59.js"></script>
<script src="/slices-for-redux/assets/js/17.6ccfa97e.js"></script>
<script src="/slices-for-redux/assets/js/935f2afb.1095caf6.js"></script>
<script src="/slices-for-redux/assets/js/17896441.9ba454ad.js"></script>
<script src="/slices-for-redux/assets/js/055cdc0f.436f2fba.js"></script>
</body>
</html>